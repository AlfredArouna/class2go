{% load url from future %}

<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="{{ STATIC_URL }}css/core/bootstrap.css" />
	<link rel="stylesheet" href="{{ STATIC_URL }}css/core/responsive.css" />
    <link rel="stylesheet" href="{{ STATIC_URL }}css/core/body.css" />
    <!--[if IE 7]>
	  <link rel="stylesheet" href="{{ STATIC_URL }}css/core/font-awesome-ie7.css">
	<![endif]-->
	{% block addl_stylesheets %}{% endblock addl_stylesheets %}
    <title>{% block title %}Class2Go{% endblock %}</title>
</head>

<body>
    <div id="viewport">
		<div id="c2g_layout_topbar">
			<h1><a href="{% url 'c2g.views.home' %}" class="logo">Class2Go by Stanford University</a></h1>
			<div class="top-nav">
			{% if user.is_authenticated %}
				<li>
					<form action="{% url 'auth_logout' %}" method="POST">
						<input type="submit" id="login_button" class="btn" value="Logout" />
						{% csrf_token %}
					</form>
				</li>
				<li><span>Welcome <b>{{ user.username }}</b>!</span></li>
			{% else %}
				<li><a id="login_button" class="btn" data-toggle="modal" href="#login-modal">Login</a></li>
				<li><a href="{% url 'registration_register' %}" class="btn">Register</a></li>
			{% endif %}
			</div>
			{% block navbar %}
			<div class="navbar navbar-fixed-top">
				<div class="navbar-inner">
					<div class="container-fluid">
						<ul class="nav">
							<li><a href="#">Home</a></li>
							<li><a href="#">Classes</a></li>
							<li><a href="#">Search</a></li>
						</ul>
						
						{% ifequal user.is_staff True %}
						<ul class="nav pull-right">
							<li {% block new_course_link %}{% endblock new_course_link %}><a href="{% url 'courses.admin_views.new' %}">Create Course</a></li>
						</ul>
						{% endifequal %}
						<!--S. Halawa: Temporarily commented out the search  form until it is back-end supported. -->
						<!--form class="navbar-search hidden-phone" action="">
							<div class="input-append">
								<input class="span2 search-query" placeholder="Search" id="appendedInputButton" size="16" type="text">
								<button class="btn btn-inverse btn-search" type="button"><i class="icon-search"></i></button>
							</div>
						</form-->
					</div>
				</div>
			</div>
			{% endblock navbar %}
		</div>
		
		
		{% block content %}
		<div class="container-fluid body-content">
			<div class="row-fluid">
				
				{% block l_column_content %}{% endblock %}
				
				{% block m_column_content %}{% endblock %}
				
				{% block r_column_content %}{% endblock %}
			</div>
			{% include "footer.html" %}
		</div>
		{% endblock content %}
		</div>
    </div>

	<div id="login-modal" class="modal fade">
		<div class="modal-header">
			<a class="close" data-dismiss="modal">x</a>
			<h3>Login</h3>
		</div>
		<form action="{% url 'auth_login' %}" method="POST" class="form-horizontal">
		<div class="modal-body">
			<div class="alert alert-info">
				<i class="icon-info-sign"></i>New to Class2Go? <strong><a href="{% url 'registration_register' %}">Register here</a></strong>.
			</div>
			<fieldset>
				<div class="control-group">
					<label for="login_username" class="control-label">Username:</label>
					<div class="controls">
						<input type="text" name="username" id="login_username" />
					</div>
				</div>
				<div class="control-group">
					<label for="login_password" class="control-label">Password:</label>
					<div class="controls">
						<input type="password" name="password" id="login_password" />
					</div>
				</div>
				{% csrf_token %}
			</fieldset>
		</div>
		<div class="modal-footer">
			<input type='submit' class="btn btn-primary" value="Login" />
		</div>
		</form>
	</div>
	
	<script type="text/javascript" src="{{ STATIC_URL }}js/core/jquery.js"></script>
	<script type="text/javascript" src="{{ STATIC_URL }}js/core/bootstrap.js"></script>
    {% block addl_scripts %}
    {% endblock addl_scripts %}
</body>
</html>
