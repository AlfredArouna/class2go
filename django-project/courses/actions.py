from django.http import HttpResponsefrom django.shortcuts import render_to_response, redirectfrom django.template import Context, loaderfrom django.template import RequestContextfrom django.contrib.auth.models import User,Groupfrom courses.common_page_data import get_common_page_datafrom c2g.models import Course, Institutionfrom random import randrangeimport datetimedef switch_mode(request):    parts = request.POST.get("handle").split("-")    common_page_data = get_common_page_data(request, parts[0], parts[1])    if common_page_data['can_switch_mode']:        request.session['course_mode'] = request.POST.get('to_mode')    return redirect(request.META['HTTP_REFERER'])    def add_section(request):    pass    